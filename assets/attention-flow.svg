<svg viewBox="0 0 600 400" xmlns="http://www.w3.org/2000/svg">
    <!-- Query, Key, Value inputs -->
    <rect x="50" y="50" width="120" height="60" fill="#007AFF" opacity="0.2" rx="8"/>
    <text x="110" y="85" text-anchor="middle" font-family="SF Pro Display" font-size="18" fill="#007AFF">Query (Q)</text>

    <rect x="240" y="50" width="120" height="60" fill="#5856D6" opacity="0.2" rx="8"/>
    <text x="300" y="85" text-anchor="middle" font-family="SF Pro Display" font-size="18" fill="#5856D6">Key (K)</text>

    <rect x="430" y="50" width="120" height="60" fill="#32D74B" opacity="0.2" rx="8"/>
    <text x="490" y="85" text-anchor="middle" font-family="SF Pro Display" font-size="18" fill="#32D74B">Value (V)</text>

    <!-- Arrows to MatMul -->
    <path d="M 150 110 L 150 160" stroke="#007AFF" stroke-width="3" fill="none" marker-end="url(#arrowblue)"/>
    <path d="M 270 110 L 270 160" stroke="#5856D6" stroke-width="3" fill="none" marker-end="url(#arrowpurple)"/>

    <!-- MatMul Q·Kᵀ -->
    <rect x="120" y="160" width="180" height="50" fill="#FF9500" opacity="0.2" rx="8"/>
    <text x="210" y="190" text-anchor="middle" font-family="SF Pro Display" font-size="16" fill="#FF9500">Q · Kᵀ / √d_k</text>

    <!-- Arrow to Softmax -->
    <path d="M 210 210 L 210 240" stroke="#FF9500" stroke-width="3" fill="none" marker-end="url(#arroworange)"/>

    <!-- Softmax -->
    <rect x="140" y="240" width="140" height="50" fill="#FF2D55" opacity="0.2" rx="8"/>
    <text x="210" y="270" text-anchor="middle" font-family="SF Pro Display" font-size="16" fill="#FF2D55">Softmax</text>

    <!-- Arrows to final MatMul -->
    <path d="M 250 265 L 350 265 L 350 320" stroke="#FF2D55" stroke-width="3" fill="none" marker-end="url(#arrowred)"/>
    <path d="M 490 110 L 490 265 L 390 265 L 390 320" stroke="#32D74B" stroke-width="3" fill="none" marker-end="url(#arrowgreen)"/>

    <!-- Final MatMul -->
    <rect x="280" y="320" width="180" height="50" fill="#555555" opacity="0.15" rx="8"/>
    <text x="370" y="350" text-anchor="middle" font-family="SF Pro Display" font-size="16" fill="#555555">Attention · V</text>

    <!-- Arrow definitions -->
    <defs>
        <marker id="arrowblue" markerWidth="10" markerHeight="10" refX="5" refY="3" orient="auto" markerUnits="strokeWidth">
            <path d="M0,0 L0,6 L9,3 z" fill="#007AFF" />
        </marker>
        <marker id="arrowpurple" markerWidth="10" markerHeight="10" refX="5" refY="3" orient="auto" markerUnits="strokeWidth">
            <path d="M0,0 L0,6 L9,3 z" fill="#5856D6" />
        </marker>
        <marker id="arroworange" markerWidth="10" markerHeight="10" refX="5" refY="3" orient="auto" markerUnits="strokeWidth">
            <path d="M0,0 L0,6 L9,3 z" fill="#FF9500" />
        </marker>
        <marker id="arrowred" markerWidth="10" markerHeight="10" refX="5" refY="3" orient="auto" markerUnits="strokeWidth">
            <path d="M0,0 L0,6 L9,3 z" fill="#FF2D55" />
        </marker>
        <marker id="arrowgreen" markerWidth="10" markerHeight="10" refX="5" refY="3" orient="auto" markerUnits="strokeWidth">
            <path d="M0,0 L0,6 L9,3 z" fill="#32D74B" />
        </marker>
    </defs>
</svg>
